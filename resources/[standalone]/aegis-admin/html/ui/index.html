<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aegis Admin (txAdmin+Discord+Heatmap)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="panel" class="hidden">
    <div class="header">
      <div class="title">Aegis Admin</div>
      <div class="txa" id="txaBanner"></div>
      <div class="header-actions">
        <button id="cmdk">⌘/Ctrl‑K</button>
        <button id="close">×</button>
      </div>
    </div>
    <div class="tabs">
      <button data-tab="admin" class="active">Admin</button>
      <button data-tab="heatmap">Heatmap</button>
    </div>
    <div class="countdown-wrap hidden" id="countdownWrap">
      <div class="countdown">
        <span id="cdLabel">Scheduled restart in</span>
        <span id="cdTime">--:--</span>
      </div>
    </div>
    <div class="tab-panel" id="tab-admin">
      <div class="content">
        <div class="left">
          <div class="toolbar">
            <input id="search" placeholder="Search player..." />
            <button id="refresh">Refresh</button>
          </div>
          <ul id="players"></ul>
          <div class="section">
            <h4>Approvals</h4>
            <ul id="approvals"></ul>
          </div>
        </div>
        <div class="right">
          <div class="actions">
            <h3>Actions</h3>
            <div class="grid">
              <button data-cap="players.freeze">Freeze</button>
              <button data-cap="players.unfreeze">Unfreeze</button>
              <button data-cap="players.heal">Heal</button>
              <button data-cap="players.revive">Revive</button>
              <button data-cap="players.tp.bring">Bring</button>
              <button data-cap="players.tp.goto">Goto</button>
              <button data-cap="players.spectate">Spectate</button>
              <button data-cap="players.spectate.follow">Follow</button>
            </div>
            <h4>Inventory</h4>
            <div class="row">
              <input id="item" placeholder="item name" />
              <input id="amount" type="number" min="1" value="1" />
              <button id="give" data-cap="inventory.give">Give</button>
              <button id="take" data-cap="inventory.take">Take</button>
              <button id="view" data-cap="inventory.view">View</button>
            </div>
            <pre id="inventoryView" class="pre"></pre>
            <h4>Job</h4>
            <div class="row">
              <input id="job" placeholder="job" />
              <input id="grade" type="number" min="0" value="0" />
              <button id="setjob" data-cap="jobs.set">Set Job</button>
            </div>
            <h4>Economy</h4>
            <div class="row">
              <input id="cash" type="number" placeholder="cash (+/-)" />
              <button id="givecash" data-cap="economy.giveCash">Give Cash</button>
              <input id="bank" type="number" placeholder="bank (set)" />
              <button id="setbank" data-cap="economy.setBank">Set Bank</button>
            </div>
            <pre id="moneyView" class="pre"></pre>
            <h4>Moderation</h4>
            <div class="row">
              <input id="reason" placeholder="reason (required)" />
              <button id="kick" data-cap="moderation.kick">Kick</button>
              <button id="banreq" data-cap="moderation.ban.request">Request Ban</button>
            </div>
            <h4>Server</h4>
            <div class="row">
              <input id="announceText" placeholder="Announcement text" />
              <button id="announce" data-cap="system.announce">Announce</button>
              <button id="stats" data-cap="system.stats">Stats</button>
              <input id="restartMin" type="number" min="1" value="5" />
              <button id="queueRestart" data-cap="system.restart.queue">Queue Restart</button>
              <button id="cancelRestart" data-cap="system.restart.cancel">Cancel Restart</button>
            </div>
            <pre id="systemView" class="pre"></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-panel hidden" id="tab-heatmap">
      <div class="heat-wrap">
        <canvas id="heatCanvas" width="900" height="480"></canvas>
        <div class="heat-legend">Low → High</div>
      </div>
    </div>
  </div>

  <div id="palette" class="palette hidden">
    <input id="palette-input" placeholder="Type a command or player..." />
    <ul id="palette-list"></ul>
  </div>

  <script src="index.js"></script>
</body>
</html>
