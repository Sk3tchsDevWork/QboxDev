import{p as E,u as L,b as M,j as s,B as N,e as T,g as C,h as D,Y as H,y as A,T as h,R as P,G as O,c as V,L as W,r as S,a as B,M as q,I as Y,A as b,F as p,Z,_ as J,$ as K,H as _}from"./index-DQAlZ3ub.js";import{C as w}from"./Card-CcnzdeRb.js";import{I as Q}from"./IconHelpHexagonFilled-COLCfAXt.js";import{R as X}from"./Rating-iSLpYTl7.js";var G={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const ss={},es=T((i,{radius:l,color:o,gradient:g,variant:r,size:d,autoContrast:x})=>{const m=i.variantColorResolver({color:o||i.primaryColor,theme:i,gradient:g,variant:r||"filled",autoContrast:x});return{root:{"--badge-height":C(d,"badge-height"),"--badge-padding-x":C(d,"badge-padding-x"),"--badge-fz":C(d,"badge-fz"),"--badge-radius":l===void 0?void 0:D(l),"--badge-bg":o||r?m.background:void 0,"--badge-color":o||r?m.color:void 0,"--badge-bd":o||r?m.border:void 0,"--badge-dot-color":r==="dot"?H(o,i):void 0}}}),I=E((i,l)=>{const o=L("Badge",ss,i),{classNames:g,className:r,style:d,styles:x,unstyled:m,vars:v,radius:z,color:e,gradient:a,leftSection:c,rightSection:t,children:j,variant:k,fullWidth:y,autoContrast:f,circle:F,mod:U,...$}=o,u=M({name:"Badge",props:o,classes:G,className:r,style:d,classNames:g,styles:x,unstyled:m,vars:v,varsResolver:es});return s.jsxs(N,{variant:k,mod:[{block:y,circle:F},U],...u("root",{variant:k}),ref:l,...$,children:[c&&s.jsx("span",{...u("section"),"data-position":"left",children:c}),s.jsx("span",{...u("label"),children:j}),t&&s.jsx("span",{...u("section"),"data-position":"right",children:t})]})});I.classes=G;I.displayName="@mantine/core/Badge";/**
 * @license @tabler/icons-react v3.7.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R=A("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);const as="_grid_11qqc_1",ts="_card_11qqc_15",ls="_section_11qqc_23",cs="_trash_11qqc_37",ns="_label_11qqc_47",is="_help_11qqc_59",os="_helpIcon_11qqc_73",rs="_panelBox_11qqc_97",ds="_text_11qqc_127",n={grid:as,card:ts,section:ls,trash:cs,label:ns,help:is,helpIcon:os,panelBox:rs,text:ds},hs=({lang:i})=>{const{panel:l}=i.properties;return s.jsxs(N,{className:n.panelBox,children:[s.jsx(h,{className:n.text,ta:"center",fz:"lg",fw:500,children:l.header}),s.jsx(h,{className:n.text,fz:"md",fw:500,mt:"sm",children:l.upgrades}),s.jsxs(h,{className:n.text,fz:"sm",c:"dimmed",ml:"xs",mt:"xs",children:[s.jsx("strong",{children:l.stash}),l.stash2]}),s.jsxs(h,{className:n.text,fz:"sm",c:"dimmed",ml:"xs",mt:4,children:[s.jsx("strong",{children:l.production}),l.production2]}),s.jsxs(h,{className:n.text,fz:"sm",c:"dimmed",ml:"xs",mt:4,children:[s.jsx("strong",{children:l.security}),l.security2]})]})},ms={stash:s.jsx(Z,{stroke:1.5,style:{width:"18px",height:"18px"}}),production:s.jsx(J,{stroke:1.5,style:{width:"18px",height:"18px"}}),security:s.jsx(K,{stroke:1.5,style:{width:"18px",height:"18px"}})},xs="https://dunb17ur4ymx4.cloudfront.net/wysiwyg/1027823/5a3ed30f917b3e1e4f0f00ad29f21cbc138bcd11.jpg",bs=()=>{const i=P(O),l=V(i.level,i.max),o=P(W),[g,r]=S.useState([]),[d,x]=S.useState(""),m=async(e,a,c,t,j)=>{await _("av_gangs","buyUpgrade",{identifier:e,type:a,shell:c,upgrade:t,level:j})&&r(y=>y.map(f=>f.identifier===e?{...f,upgrades:{...f.upgrades,[t]:j}}:f))},v=(e,a)=>{_("av_gangs","sellProperty",{type:e,identifier:a}),r(c=>c.filter(t=>t.identifier!==a))},z=e=>{_("av_laptop","setGPS",e)};return S.useEffect(()=>{(async()=>{const a=await _("av_gangs","getProperties");a&&r(a)})()},[]),s.jsx(s.Fragment,{children:s.jsx(B,{className:n.grid,gutter:"xs",children:g.map(e=>s.jsx(B.Col,{span:{base:4,xs:6,sm:6,md:6,lg:4},children:s.jsxs(w,{withBorder:!0,radius:"md",p:"md",className:n.card,children:[s.jsxs(w.Section,{children:[s.jsx(N,{className:n.help,children:s.jsx(q,{label:s.jsx(hs,{lang:o}),h:"auto",color:"transparent",withinPortal:!0,children:s.jsx(Q,{className:n.helpIcon})})}),s.jsx(Y,{src:e.photo,alt:e.label,fallbackSrc:xs,h:215})]}),s.jsxs(w.Section,{className:n.section,mt:"md",children:[s.jsxs(b,{justify:"apart",children:[s.jsx(h,{fz:"lg",fw:500,children:e.label}),e.working&&s.jsx(I,{size:"sm",variant:"light",color:"cyan",children:e.working})]}),s.jsx(h,{mt:"md",className:n.label,c:"dimmed",children:"Upgrades"}),s.jsx(b,{mt:"xs",justify:"center",children:Object.keys(e.upgrades).map(a=>s.jsxs(b,{gap:"sm",style:{display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:[s.jsx(q,{label:o.properties[a],color:"dark.4",fz:"xs",children:ms[a]}),s.jsx(X,{value:e.upgrades[a],count:3,mt:4,emptySymbol:s.jsx(R,{color:"gray",size:16}),fullSymbol:c=>{const t=e.availableUpgrades[a].prices[c-1];return s.jsx(q,{fw:500,color:"dark.4",c:"gray.3",label:t&&l.level>=t.level?`$${t.price}`:`Needs Level ${t==null?void 0:t.level}`,withinPortal:!0,disabled:c<=e.upgrades[a],children:s.jsx(R,{color:"#38D9A9",size:16})})},readOnly:e.upgrades[a]===3,onChange:c=>{const t=e.availableUpgrades[a].prices[c-1];t&&(c<=e.upgrades[a]||l.level<t.level)||m(e.identifier,e.type,e.shell,a,c)}})]},a))})]}),s.jsx(b,{mt:"xs",grow:e.identifier===d,children:d!==e.identifier?s.jsxs(s.Fragment,{children:[s.jsx(p,{variant:"light",radius:"md",color:"teal",style:{flex:1},size:"sm",onClick:()=>{z(e.entry)},children:"Set GPS Route"}),s.jsx(p,{variant:"subtle",color:"red.5",radius:"md",onClick:()=>{x(e.identifier)},children:s.jsx(h,{children:"Sell"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(p,{variant:"subtle",radius:"md",color:"teal",size:"sm",onClick:()=>{v(e.type,e.identifier)},children:"Confirm"}),s.jsx(p,{variant:"light",radius:"md",color:"red",size:"sm",onClick:()=>{x("")},children:"Cancel"})]})})]})},e.identifier))})})};export{bs as default};
